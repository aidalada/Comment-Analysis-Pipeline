# NLP-система для анализа и модерации клиентских комментариев 

Этот проект представляет собой комплексный NLP-конвейер для автоматической обработки комментариев пользователей на русском, английском и казахском языках. Система в реальном времени анализирует текст, выносит вердикт модерации, определяет тональность и классифицирует тип обращения, а также генерирует релевантный ответ.

## Ключевые возможности

* **Мультиязычный анализ:** Поддержка русского, английского и казахского языков. Для обработки казахского текста используется state-of-the-art модель-переводчик `nllb-200`.
* **Автоматическая модерация:** Выявление спама (по правилам и ссылкам) и токсичного контента/оскорблений с помощью `rubert-tiny-toxicity`.
* **Анализ тональности:** Определение эмоциональной окраски комментария (позитивная, негативная, нейтральная).
* **Классификация по типу:** С помощью `zero-shot-classification` определяется цель комментария: **вопрос**, **жалоба**, **благодарность** или **отзыв**.
* **Генерация ответов:** На основе проведенного анализа система подбирает наиболее подходящий шаблонный ответ из базы знаний.

## Технологический стек

* **Язык:** Python
* **Основная библиотека:** `transformers` от Hugging Face 
* **Ключевые модели:**
    * `papluca/xlm-roberta-base-language-detection` (определение языка)
    * `facebook/nllb-200-distilled-600M` (перевод с казахского)
    * `cointegrated/rubert-tiny-toxicity` (модерация русского текста)
    * `r1char9/rubert-base-cased-russian-sentiment` (тональность русского текста)
    * `MoritzLaurer/mDeBERTa-v3-base-mnli-xnli` (zero-shot классификация)
* **Среда разработки:** Jupyter Notebook, Python-скрипты (`.py`)

## Структура проекта

Проект имеет модульную структуру для удобства поддержки и расширения:

* **`analyzer.py`**: Основной модуль, содержащий всю логику для многоступенчатого анализа текста.
* **`responder.py`**: Модуль, отвечающий за генерацию ответов на основе результатов анализа. Содержит базу знаний с шаблонами.
* **`Datathon*.ipynb`**: Jupyter-ноутбуки, использовавшиеся для исследований, тестирования моделей и демонстрации работы конвейера.

## Как запустить

1.  Клонируйте репозиторий:
    ```bash
    git clone [https://www.nic.ru/info/blog/repository/](https://www.nic.ru/info/blog/repository/)
    ```
2.  Установите необходимые зависимости:
    ```bash
    pip install transformers torch pandas
    ```
3.  Запустите один из демонстрационных ноутбуков или импортируйте функции из `analyzer.py` и `responder.py` в свой проект.

    **Пример использования:**
    ```python
    from analyzer import analyze_comment
    from responder import generate_response

    comment = "Керемет! Маған бәрі ұнады, рахмет сіздерге."

    analysis = analyze_comment(comment)
    print(f"Анализ: {analysis}")

    response = generate_response(analysis)
    print(f"Ответ системы: {response}")
    ```
